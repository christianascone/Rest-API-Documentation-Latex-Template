%Copyright 2019 Christian Ascone
%This program is free software: you can 
%redistribute it and/or modify it under the terms of the GNU General Public 
%License as published by the Free Software Foundation, either version 3 of the 
%License, or (at your option) any later version.
%This program is distributed in the hope that it will be useful,but WITHOUT ANY 
%WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A 
%PARTICULAR PURPOSE. See the GNU General Public License for more details.
%You should have received a copy of the GNU General Public License along with 
%this program.  If not, see <http://www.gnu.org/licenses/>.

%Started using SRS-Tex of Jean-Philippe Eisenbarth
%https://github.com/jpeisenbarth/SRS-Tex
%Based on the code of Yiannis Lazarides
%http://tex.stackexchange.com/questions/42602/software-requirements-specification-with-latex
%http://tex.stackexchange.com/users/963/yiannis-lazarides
%Also based on the template of Karl E. Wiegers
%http://www.se.rit.edu/~emad/teaching/slides/srs_template_sep14.pdf
%http://karlwiegers.com

\documentclass{scrreprt}
\usepackage{listings}
\usepackage{underscore}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{color}
\usepackage[bookmarks=true]{hyperref}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{frame}
\usepackage{amsmath}
\usepackage{microtype}      
\usepackage{fancyhdr}
\usepackage{nameref}
\usepackage{xcolor}
\newcommand*{\currentname}{\@currentlabelname}% <=========================================
\hyphenation{Gro-then-dieck}% <=========================================
\hypersetup{
    bookmarks=false,    % show bookmarks bar?
    pdftitle={Software Requirement Specification},    % title
    pdfauthor={Christian Ascone},                     % author
    pdfsubject={TeX and LaTeX},                        % subject of the document
    pdfkeywords={TeX, LaTeX, graphics, images}, % list of keywords
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=blue,       % color of internal links
    citecolor=black,       % color of links to bibliography
    filecolor=black,        % color of file links
    urlcolor=blue,        % color of external links
    linktoc=page            % only page is linked
}%

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}

 \lstset{frame=single,
  language=bash,
  breaklines=true,
  breakatwhitespace=false,
  showstringspaces=true,
  columns=flexible,
  commentstyle=\color{dkgreen},
  keywordstyle=\color{blue},
  %stringstyle=\color{dkgreen},
  tabsize=3
}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\def\myversion{1.0 }
\def\author{Christian Ascone}
\def\organization{Company}
\date{}
\title{Rest API Services}
\usepackage{hyperref}
\begin{document}



\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\newenvironment{changemargin}[2]{%
\begin{list}{}{%
\setlength{\topsep}{0pt}%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\listparindent}{\parindent}%
\setlength{\itemindent}{\parindent}%
\setlength{\parsep}{\parskip}%
}%
\item[]}{\end{list}}

\begin{center}
\includegraphics[width=0.5\textwidth]{header.png}
\end{center}

    \begin{bfseries}\centering
        \vspace{1cm}
        \Huge{TECHNICAL\\ SPECIFICATIONS}\\
        \vspace{1.3cm}
        Rest API Services\\
        \vspace{1.0cm}
        \organization\\
        \vspace{1.5cm}
        \today\\
    \end{bfseries}

\tableofcontents


\chapter*{History}

\begin{center}
    \begin{tabular}{|c|c|c|c|}
        \hline
	    Date & Changelog & Version & Author\\
        \hline
	    2019/08/30 & First version & 0.1.0 & Christian Ascone\\
	    \hline
    \end{tabular}
\end{center}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\includegraphics[width=1.5cm]{header.png}}
\fancyhead[RE,LO]{Company}
\fancyfoot[CE,CO]{\thepage}

\chapter{Introduction}

Describe the context and origin of the product being specified in this document.  
For example, state whether this product is a follow-on member of a product 
family, a replacement for certain existing systems, or a new, self-contained 
product.

\chapter{Basic information}

Two environments:
\begin{itemize}
    \item Staging
    \item Production
\end{itemize}


\textbf{Staging environment}
\begin{lstlisting}[language=json,firstnumber=1]
BASE_URL: staging.website.com
\end{lstlisting}

\textbf{Production environment}
\begin{lstlisting}[language=json,firstnumber=1]
BASE_URL: production.website.com
\end{lstlisting}

\section{Authentication}

Info about authentication

You must add following \emph{headers}:

\begin{itemize}
    \item \textbf{Username}: \textit{USERNAME}
    \item \textbf{Password}: \textit{PASSWORD}
\end{itemize}


\chapter{Service group}

%% Service %%

\section{Service 1}\label{sec:sdi_send}

Service 1 description.
Describe what it does and what is its purpose.

\subsection{Request}

\textbf{POST \\ https://BASE_URL/path/to/service}

\vspace{.5cm}

Additional (optional) headers:
\begin{itemize}
    \item \textbf{Content-Type}: application/xml
\end{itemize}

\begin{lstlisting}[language=json,firstnumber=1,caption=Payload]
{
  "data": {
    "objects": [
      {
        "id": 1
      },
      {
        "id": 2
      }
    ]
  }
}
\end{lstlisting}

\subsection{Response}

\textbf{Example of positive response:}

\vspace{.2cm}


\begin{lstlisting}[language=json,firstnumber=1]
{
    "metadata": {
        "date_format_alternative": "YYYY-MM-DD HH:mm:ssZZ",
        "date_format": "yyyy-MM-dd HH:mm:ssZZ",
        "hourminute_format": "HHmm"
    },
    "response": {
        "status": "ok"
    }
}
\end{lstlisting}

\vspace{.2cm}

\textbf{Example of negative response:}
\begin{lstlisting}[language=json,firstnumber=1]
{
    "response": {
        "error": "ERROR_GENERIC",
        "status": "ko"
    }
}
\end{lstlisting}

\vspace{.5cm}

Additional info.

\clearpage


\clearpage
\begin{center}
\includegraphics[width=0.5\textwidth]{header.png}
\end{center}

    \begin{bfseries}\centering
        \vspace{5cm}
        \Huge{Email: ascone.christian@gmail.com\\}
        \vspace{1.3cm}
    \url{https://mywebsite.it}\\    
        \vspace{1.0cm}
        \vspace{1.5cm}
    \end{bfseries}

%% END

\end{document}